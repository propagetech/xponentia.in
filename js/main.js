!function(){"use strict";document.addEventListener("DOMContentLoaded",function(){try{!function(){try{const themeToggle=document.querySelector(".theme-toggle"),html=document.documentElement;if("dark"===(localStorage.getItem("theme")||"light")?html.setAttribute("data-theme","dark"):html.setAttribute("data-theme","light"),themeToggle){themeToggle.addEventListener("click",function(){try{const newTheme="dark"===html.getAttribute("data-theme")?"light":"dark";html.setAttribute("data-theme",newTheme),localStorage.setItem("theme",newTheme),themeToggle.setAttribute("aria-label","dark"===newTheme?"Switch to light mode":"Switch to dark mode")}catch(error){console.error("Error toggling theme:",error)}});const currentTheme=html.getAttribute("data-theme");themeToggle.setAttribute("aria-label","dark"===currentTheme?"Switch to light mode":"Switch to dark mode")}}catch(error){console.error("Error initializing theme toggle:",error)}}(),function(){try{const menuToggle=document.querySelector(".menu-toggle"),nav=document.querySelector("nav");menuToggle&&nav&&(menuToggle.addEventListener("click",function(){try{const isOpen=nav.classList.contains("open");nav.classList.toggle("open"),menuToggle.setAttribute("aria-expanded",!isOpen),menuToggle.setAttribute("aria-label",isOpen?"Open menu":"Close menu")}catch(error){console.error("Error toggling mobile menu:",error)}}),document.addEventListener("click",function(event){try{!nav.classList.contains("open")||nav.contains(event.target)||menuToggle.contains(event.target)||(nav.classList.remove("open"),menuToggle.setAttribute("aria-expanded","false"),menuToggle.setAttribute("aria-label","Open menu"))}catch(error){console.error("Error closing mobile menu:",error)}}),document.addEventListener("keydown",function(event){try{"Escape"===event.key&&nav.classList.contains("open")&&(nav.classList.remove("open"),menuToggle.setAttribute("aria-expanded","false"),menuToggle.setAttribute("aria-label","Open menu"),menuToggle.focus())}catch(error){console.error("Error handling escape key for mobile menu:",error)}}))}catch(error){console.error("Error initializing mobile menu:",error)}}(),function(){try{if("loading"in HTMLImageElement.prototype)document.querySelectorAll('img[loading="lazy"]').forEach(function(img){try{img.addEventListener("load",function(){this.classList.add("loaded")}),img.complete&&img.classList.add("loaded")}catch(error){console.error("Error handling image load:",error)}});else{const images=document.querySelectorAll('img[loading="lazy"]');if("IntersectionObserver"in window){const imageObserver=new IntersectionObserver(function(entries,observer){entries.forEach(function(entry){try{if(entry.isIntersecting){const img=entry.target;img.src=img.dataset.src||img.src,img.classList.add("loaded"),observer.unobserve(img)}}catch(error){console.error("Error in IntersectionObserver callback:",error)}})});images.forEach(function(img){try{imageObserver.observe(img)}catch(error){console.error("Error observing image:",error)}})}else images.forEach(function(img){try{img.src=img.dataset.src||img.src,img.classList.add("loaded")}catch(error){console.error("Error loading fallback image:",error)}})}}catch(error){console.error("Error initializing lazy loading:",error)}}(),function(){try{const skipLink=document.querySelector(".skip-link");skipLink&&skipLink.addEventListener("click",function(event){try{event.preventDefault();const target=document.querySelector(this.getAttribute("href"));target&&(target.setAttribute("tabindex","-1"),target.focus(),target.scrollIntoView({behavior:"smooth",block:"start"}))}catch(error){console.error("Error handling skip link:",error)}})}catch(error){console.error("Error initializing skip link:",error)}}(),function(){try{document.querySelectorAll('a[href^="#"]').forEach(function(link){link.addEventListener("click",function(event){try{const href=this.getAttribute("href");if("#"!==href&&href.length>1){const target=document.querySelector(href);target&&(event.preventDefault(),target.setAttribute("tabindex","-1"),target.focus(),target.scrollIntoView({behavior:"smooth",block:"start"}),setTimeout(function(){try{target.removeAttribute("tabindex")}catch(error){console.error("Error removing tabindex:",error)}},1e3))}}catch(error){console.error("Error handling smooth scroll:",error)}})})}catch(error){console.error("Error initializing smooth scroll:",error)}}(),function(){try{if("/"!==window.location.pathname&&!window.location.pathname.endsWith("index.html")&&!window.location.pathname.endsWith("/"))return;const modal=document.getElementById("scam-alert-modal"),closeButton=modal?.querySelector(".modal-close"),overlay=modal?.querySelector(".modal-overlay");if(!modal)return;let focusTrapHandler=null;function showModal(){try{modal.setAttribute("aria-hidden","false"),document.body.classList.add("modal-open"),closeButton&&closeButton.focus(),focusTrapHandler=function(modal){const focusableElements=modal.querySelectorAll('a[href], button:not([disabled]), textarea:not([disabled]), input:not([disabled]), select:not([disabled]), [tabindex]:not([tabindex="-1"])'),firstFocusable=focusableElements[0],lastFocusable=focusableElements[focusableElements.length-1];return function(event){"Tab"===event.key&&(event.shiftKey?document.activeElement===firstFocusable&&(event.preventDefault(),lastFocusable.focus()):document.activeElement===lastFocusable&&(event.preventDefault(),firstFocusable.focus()))}}(modal),modal.addEventListener("keydown",focusTrapHandler)}catch(error){console.error("Error showing modal:",error)}}function hideModal(){try{modal.setAttribute("aria-hidden","true"),document.body.classList.remove("modal-open"),focusTrapHandler&&(modal.removeEventListener("keydown",focusTrapHandler),focusTrapHandler=null)}catch(error){console.error("Error hiding modal:",error)}}closeButton&&closeButton.addEventListener("click",hideModal),overlay&&overlay.addEventListener("click",hideModal),document.addEventListener("keydown",function(event){try{"Escape"===event.key&&"false"===modal.getAttribute("aria-hidden")&&hideModal()}catch(error){console.error("Error handling escape key for modal:",error)}});const modalContent=modal.querySelector(".modal-content");modalContent&&modalContent.addEventListener("click",function(event){event.stopPropagation()}),setTimeout(showModal,300)}catch(error){console.error("Error initializing scam alert modal:",error)}}(),function(){try{const scrollUpBtn=document.querySelector(".scroll-up");if(!scrollUpBtn)return;function toggleVisibility(){window.scrollY>300?scrollUpBtn.classList.add("visible"):scrollUpBtn.classList.remove("visible")}window.addEventListener("scroll",toggleVisibility,{passive:!0}),toggleVisibility(),scrollUpBtn.addEventListener("click",function(){try{window.scrollTo({top:0,behavior:"smooth"})}catch(error){window.scrollTo(0,0)}})}catch(error){console.error("Error initializing scroll up button:",error)}}()}catch(error){console.error("Error initializing website functionality:",error)}}),function(){try{const currentPath=window.location.pathname;document.querySelectorAll("nav a").forEach(function(link){try{const linkPath=new URL(link.href).pathname;linkPath===currentPath||"/"===currentPath&&linkPath.endsWith("index.html")?link.setAttribute("aria-current","page"):link.removeAttribute("aria-current")}catch(error){console.warn("Error processing navigation link:",error)}})}catch(error){console.error("Error setting current page:",error)}}()}();